(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{380:function(t,s,a){"use strict";a.r(s);var e=a(42),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"redis-limiter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis-limiter"}},[t._v("#")]),t._v(" Redis Limiter")]),t._v(" "),a("p",[t._v("Rate limiter based on Redis. This Rate Limiter is async safe, thread safe, "),a("strong",[a("em",[t._v("cross-process safe and also api-key safe (meaning merged keys are safe without doing limiting share)")])]),t._v(".")]),t._v(" "),a("p",[t._v("Limits in the database are expired after 1 hour if it isn't touched.")]),t._v(" "),a("h2",{attrs:{id:"rate-limiter-settings-reference"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rate-limiter-settings-reference"}},[t._v("#")]),t._v(" Rate Limiter Settings Reference")]),t._v(" "),a("h3",{attrs:{id:"backend-pyot-limiters-redislimiter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#backend-pyot-limiters-redislimiter"}},[t._v("#")]),t._v(" Backend: "),a("code",[t._v("pyot.limiters.RedisLimiter")])]),t._v(" "),a("h3",{attrs:{id:"arguments"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#arguments"}},[t._v("#")]),t._v(" Arguments:")]),t._v(" "),a("blockquote",[a("h4",{attrs:{id:"limiting-share-float-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#limiting-share-float-1"}},[t._v("#")]),t._v(" "),a("code",[t._v("limiting_share: float = 1")])]),t._v(" "),a("p",[t._v("The amount of rate limits * "),a("code",[t._v("limiting_share")]),t._v(" to use at most, receives a float between 0 and 1. Defaults to 1.")]),t._v(" "),a("h4",{attrs:{id:"host-str-127-0-0-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#host-str-127-0-0-1"}},[t._v("#")]),t._v(" "),a("code",[t._v("host: str = '127.0.0.1'")])]),t._v(" "),a("p",[t._v("Host of the Redis Server.")]),t._v(" "),a("h4",{attrs:{id:"port-int-6379"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#port-int-6379"}},[t._v("#")]),t._v(" "),a("code",[t._v("port: int = 6379")])]),t._v(" "),a("p",[t._v("Port of the Redis Server.")]),t._v(" "),a("h4",{attrs:{id:"db-int-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#db-int-0"}},[t._v("#")]),t._v(" "),a("code",[t._v("db: int = 0")])]),t._v(" "),a("p",[t._v("Database of the Redis Server, preferably separated from your cache.")]),t._v(" "),a("h4",{attrs:{id:"kwargs-any-extra-key-value-pair"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#kwargs-any-extra-key-value-pair"}},[t._v("#")]),t._v(" "),a("code",[t._v("**kwargs")]),t._v(" (Any Extra key value pair)")]),t._v(" "),a("p",[t._v("Any extra Key : Value pair that is passed to the "),a("code",[t._v("redis.Redis")]),t._v(" instance. Refer to its arguments at "),a("a",{attrs:{href:"https://redis-py.readthedocs.io/en/stable/",target:"_blank",rel:"noopener noreferrer"}},[t._v("redis documentation"),a("OutboundLink")],1),t._v(".")])]),t._v(" "),a("h2",{attrs:{id:"example-usage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-usage"}},[t._v("#")]),t._v(" Example Usage")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BACKEND"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pyot.stores.RiotAPI"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"RATE_LIMITER"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BACKEND"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pyot.limiters.RedisLimiter"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"LIMITING_SHARE"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"HOST"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"127.0.0.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"PORT"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6379")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DB"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);